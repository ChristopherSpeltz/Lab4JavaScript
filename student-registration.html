<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Club Membership</title>

    <style>
      .selected {
        text-decoration: line-through;
        font-style: italic;
        color: gray;
      }

      input {
        width: 100%;
        padding: 5px;
        margin: 5px 5px 5px 0px;
        box-sizing: border-box;
      }
    </style>
  </head>
  <body>
    <h1>Student Club Roster</h1>

    <h2>Add Students</h2>

    <label for="student-name">Student Name</label
    ><input id="student-name" name="student-name" />
    <br />
    <label for="student-id">Student ID</label
    ><input id="student-id" name="student-id" />
    <br />
    <label for="student-gpa">Student GPA</label
    ><input id="student-gpa" name="student-gpa" type="number" />
    <br />
    <button id="add-student">Add Student</button>

    <h2>Student List</h2>

    <p>
      There are
      <span id="student-count">
        <!-- use JavaScript to count the number of students, and show here -->
      </span>
      student(s) in the club.
    </p>

    <ul id="student-list">
      <!-- use JavaScript to create li elements  -->
    </ul>

    <button id="remove-selected-students">Remove selected students</button>

    <script>
      let studentCount = 0;
      let studentCountMessage = document.querySelector("#student-count");
      let addStudent = document.querySelector("#add-student");
      let nameInput = document.querySelector("#student-name");
      let studentIdInput = document.querySelector("#student-id");
      let gpaInput = document.querySelector("#student-gpa");
      let minGpa = 0;
      let maxGpa = 4;
      let textList = document.querySelector("#student-list");
      let removeStudent = document.querySelector("#remove-selected-students");


      // initial number of students in student list span #student-count
      studentCountMessage.innerHTML = studentCount;

      // Add an event listener so that when button#add-students is clicked:
      addStudent.addEventListener("click", function () {
        // value from the student-name input, saved in a variable.
        let name = nameInput.value;
        console.log(name);

        // value from the student-id input, saved in a variable.
        let studentId = studentIdInput.value;
        console.log(studentId);

        // value from the gpa input, saved in a variable.
        let gpa = gpaInput.value;
        console.log(gpa);

        // array from input
        let newText = [nameInput.value, studentIdInput.value, gpaInput.value];
        console.log(newText);

        // let liElement = document.querySelector("li");

        // show an alert error message if student name field left blank
        if (name.length == 0) {
          alert("Enter student name!");
          return;
        }

        // show an alert error message if student id field left blank
        if (studentId.length == 0) {
          alert("Enter student ID!");
          return;
        }

        // show an alert error message if student gpa field left blank
        if (gpa < minGpa || gpa > maxGpa || gpa == "") {
          alert("Please enter GPA number between 0-4");
          return;
        }

        // Create new li element
        let studentDataItem = document.createElement("li");

        // li element data from array containing the student's name, id, and GPA
        studentDataItem.innerHTML =
          `Student: ` +
          newText[0] +
          ` Id: ` +
          newText[1] +
          ` GPA: ` +
          newText[2];

        // add li element to ul #student-list element
        textList.appendChild(studentDataItem);

        // clear the text from the input
        nameInput.value = "";
        studentIdInput.value = "";
        gpaInput.value = "";

        // I was unable to get the event listener function to work. Could not get the click event listener to work and was not able to get the class assigned to it
        // liElement.addEventListener('click', function () {
        //   alert('You clicked an li element!')
        // })
      });

      // Add an event listener so that when button#remove-selected-students is clicked
      // I was unable to get this to work as noted in the requirement. Currently it deletes all LI elements
      removeStudent.addEventListener("click", function () {
        alert("You have deleted the selected students!");
        textList.remove();
      });

      // document.querySelectorAll("li").setAttribute("class", selected);

      /* Add the following functionality to this page

      [Note on HTML element notation: span#student-count means the span element with id="student-count" ]

      When the page loads:
                DONE
          * Using JavaScript, display 0 in the span#student-count  (1pt)


          * Add an event listener so that when button#add-students is clicked:
                DONE
              - Read the value from the student-name input, save in a variable. If the name is not entered, show an alert error message and return. (1pt)
              - Read the value from the student-id input, save in a variable. If the id is not entered, show an alert error message and return. (1pt)
              - Read the value from the student-gpa input, save in a variable. If the GPA is not entered, or is not in the range 0-4, show an alert error message and return.  (1pt)

                DONE
              - Create a new li element (1pt)
              - Set the innerHTML of the li element to a string containing the student's name, id, and GPA  (1pt)
                  for example "Beyonce Knowles, id: aa1234bb, GPA 3.8"
                  Use a template string to generate this string


              - Add a click event handler to the new li element.  (3pt)
              - When the li element is clicked, add the class="selected" to that li element.
              - When that li element is clicked again, remove the class="selected" from that li element
                  In other words, clicking a li element will toggle the selected class. https://www.w3schools.com/howto/howto_js_toggle_class.asp

                  DONE
              - Add the new li element to ul#student-list element (1pt)

                  DONE
              - Clear the values of the three input elements (1pt)
              - Update the span#student-count value to the new number of students (1pt)

          * Add an event listener so that when button#remove-selected-students is clicked:
              - Remove all of the elements with the class="selected" from the list.   (3pt)
              - Using the remove() function on an element will remove it. Example https://jsfiddle.net/rk9pm4vg/

          You should not need to modify any of the HTML.
      */
    </script>
  </body>
</html>
